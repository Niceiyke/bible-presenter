[build]
rustflags = ["-C", "target-feature=-crt-static"]

[env]
# Force native Rust dependencies to use the dynamic CRT on Windows.
# CFLAGS/CXXFLAGS are intentionally NOT set here so Linux builds of
# C system libraries (openssl-sys, etc.) are not broken by MSVC-only flags.
MSVC_RUNTIME_LIBRARY = "MultiThreadedDLL"
VCPKG_DEFAULT_TRIPLET = "x64-windows"

[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-feature=-crt-static"]

[target.i686-pc-windows-msvc]
rustflags = ["-C", "target-feature=-crt-static"]

[target.aarch64-pc-windows-msvc]
rustflags = ["-C", "target-feature=-crt-static"]
